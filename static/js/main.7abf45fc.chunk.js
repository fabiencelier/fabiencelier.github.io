(window.webpackJsonpoutlive=window.webpackJsonpoutlive||[]).push([[0],{153:function(e,t,n){e.exports=n(243)},158:function(e,t,n){},159:function(e,t,n){},243:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(8),c=n.n(i),o=(n(158),n(55)),l=n(43),s=(n(159),n(82)),u=n(134),m=n(135),d=n(148),f=n(136),p=n(150),h=n(246),g=n(144),E=n(68),v=n.n(E),b=n(104),y="database!A1:T",w="AIzaSyChFa8ete627UC3U9Wlgwffij0QeRdmthc",O="https://sheets.googleapis.com/v4/spreadsheets/".concat("1tLcsXib4I6wYr9EJED5uJj_mMfvDwI8hBJ7-dJWnTMk","/values/").concat(y,"?key=").concat(w),D=function(e){return e.splice(0,1),e.map((function(e){return function(e){return{id:e[0],days:e[1],birthDate:new Date(e[2]),deathDate:new Date(e[3]),firstName:e[4],lastName:e[5],title:e[6],description:e[7],image:e[8],link:e[9],categories:e[10].split(","),exactDates:"TRUE"===e[11],nationality:e[12]?e[12].split(","):[],manner_of_death:e[13],cause_of_death:e[14],imdb_id:e[15],gender:e[16],occupations:e[17]?e[17].split(","):[],deezer_id:e[18],spotify_id:e[19]}}(e)})).sort((function(e,t){return e.days-t.days}))},j=function(){var e=Object(b.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.fetch(O).then((function(e){return e.json().then((function(e){if(e)return D(e.values)}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=n(12),x=n(105),S=n.n(x),_=function(e){var t=e.children;return r.a.createElement(S.a,{query:"(min-device-width: 1224px)"},t)},A=function(e){var t=e.children;return r.a.createElement(S.a,{className:"mobile",query:"(max-device-width: 1224px)"},t)},T=function(e){return r.a.createElement("div",null,r.a.createElement(o.b,{className:"Header-link",to:e.path,style:{color:e.active?"white":"grey"}},r.a.createElement(k.a,{type:e.icon})," ",r.a.createElement(_,null,e.text)))},P=function(e,t){return function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement("div",{style:{zIndex:10},className:"flex-container"},r.a.createElement(T,{path:"/",icon:"home",text:"Home",active:"home"===t}),r.a.createElement(T,{path:"/statistics",icon:"bar-chart",text:"Statistics",active:"statistics"===t}),r.a.createElement(T,{path:"/settings",icon:"setting",text:"Settings",active:"settings"===t})),r.a.createElement(e,null)))}},N=function(e){return function(e,t){var n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),a=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((a-n)/864e5)}(e,new Date)};function I(e){var t="00"+e;return t.substr(t.length-2)}var C=function(e){return"".concat(e.getFullYear(),"-").concat(I(e.getMonth()+1),"-").concat(I(e.getDate()))},R=n(34),z=n(149),B=function(e){return r.a.createElement("div",null,e.categories.map((function(e){return r.a.createElement(z.a,{key:e,color:"purple"},e)})))},M=function(e){return r.a.createElement("div",null,r.a.createElement("div",{style:{color:"white"}},e.days," days"),r.a.createElement(B,{categories:e.categories}))},W=function(e){return r.a.createElement(h.a.Item,{key:e.id},r.a.createElement(o.b,{style:{width:"100%"},state:e,to:"you"===e.id?"settings":"description/".concat(e.id)},r.a.createElement(h.a.Item.Meta,{avatar:r.a.createElement(g.a,{size:64,src:e.image}),style:{width:"100%"},title:r.a.createElement("a",{style:{color:"white"},href:e.link},e.title),description:r.a.createElement(M,e)})))},F=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(f.a)(t).call(this,e))).state={people:[]},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;j().then((function(t){return e.props.dispatch({type:"FILL_DATABASE",data:t})}))}},{key:"render",value:function(){return r.a.createElement(h.a,{itemLayout:"horizontal",dataSource:this.props.database,renderItem:function(e){return r.a.createElement(W,e)},style:{paddingTop:"100px"}})}}]),t}(a.Component),J=function(e){return{id:"you",title:"You",days:e,image:"http://www.accountingweb.co.uk/sites/all/modules/custom/sm_pp_user_profile/img/default-user.png",categories:[],link:"/settings"}},L=P(Object(R.b)((function(e){var t=N(e.user.birth);return{database:e.database.length>0?[J(t)].concat(Object(s.a)(e.database)):[],age:t}}))(F),"home"),U=n(244),Y=n(245),H=n(11),G=n.n(H),q=function(e){return r.a.createElement("div",null,r.a.createElement("h2",{className:"theme"},"Birthdate"),r.a.createElement(Y.a,{onChange:function(t){return e.dispatch({type:"SET_BIRTH_DATE",date:t.toDate()})},defaultValue:G()(e.user.birth)}))},V=n(251),Q=n(249),X=function(){Notification.requestPermission().then((function(e){}))},$=function(e){return r.a.createElement("div",null,r.a.createElement("h2",{className:"theme"},"Notifications Mode"),r.a.createElement(V.a,{onClick:X},"Allow notification"),r.a.createElement(Q.a.Group,{onChange:function(t){return function(e,t){console.log(e),t({type:"SET_NOTIF_PREF",pref:e.target.value})}(t,e.dispatch)},value:e.user.notifPref},r.a.createElement(Q.a,{value:"outlive"},"When I outlive"),r.a.createElement(Q.a,{value:"never"},"Never")))},K=n(252),Z=["Famous","Actors","Artists","Politics","Science","Singers","Sport"],ee=function(e){return r.a.createElement("div",null,r.a.createElement("h2",{className:"theme"},"Categories"),r.a.createElement("div",{style:{width:"100%"}},Z.map((function(t){return r.a.createElement(K.a,{checked:e.user.categories.includes(t),onChange:function(n){return a=n.target.checked,r=t,void(0,e.dispatch)(a?function(e){return{type:"ADD_CATEGORY",category:e}}(r):function(e){return{type:"REMOVE_CATEGORY",category:e}}(r));var a,r},key:t},t)}))))},te=P(Object(R.b)((function(e){return{user:e.user}}))((function(e){return r.a.createElement("div",{className:"settings"},r.a.createElement("h1",{className:"theme"},"Settings"),r.a.createElement(q,e),r.a.createElement(U.a,{type:"horizontal"}),r.a.createElement($,e),r.a.createElement(U.a,{type:"horizontal"}),r.a.createElement(ee,e))})),"settings"),ne=n(248),ae=P(Object(R.b)((function(e){return{age:N(e.user.birth)}}))((function(e){return r.a.createElement("div",null,r.a.createElement("h1",{style:{color:"white"}},"Statistics"),r.a.createElement("h3",{style:{color:"white"}},"Survival Time"),r.a.createElement(ne.a,{title:"Days",value:e.age}),r.a.createElement(ne.a,{title:"Hours",value:24*e.age}),r.a.createElement(ne.a,{title:"Minutes",value:24*e.age*60}),r.a.createElement(ne.a,{title:"Seconds",value:24*e.age*60*60}))})),"statistics"),re=n(250),ie={display:"flex",flexDirection:"column",alignItems:"center",marginTop:"30px"},ce={backgroundColor:"#282c34",color:"white",display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"1000px"},oe={textAlign:"justify",textJustify:"inter-word",textIndent:"40px",marginLeft:"15px",marginRight:"15px"},le=function(e){return r.a.createElement("div",null,r.a.createElement(_,null,r.a.createElement("img",{src:e.image,style:{maxHeight:"500px"},alt:e.alt})),r.a.createElement(A,null,r.a.createElement("img",{src:e.image,style:{maxHeight:"200px"},alt:e.alt})))},se=function(e){return r.a.createElement("div",{style:ce},r.a.createElement(le,{image:e.image,alt:e.title}),r.a.createElement("h2",{style:{color:"white"}},e.title),r.a.createElement("h3",{style:{color:"white"}},e.days," days"),r.a.createElement("p",null,"Birth : ",C(e.birthDate),r.a.createElement("br",null),"Death : ",C(e.deathDate),r.a.createElement("br",null),"Cause : ",e.description.cause?e.cause:"Unknown"))},ue=function(e){return"https://www.imdb.com/name/".concat(e)},me=function(e){return r.a.createElement("div",{style:ie},r.a.createElement(se,e),r.a.createElement("div",{style:ce},r.a.createElement("div",{style:oe},e.description&&r.a.createElement("p",null,e.description)),r.a.createElement(B,{categories:e.categories}),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("a",{href:e.link},"Wikipedia Page")),e.deezer_id&&r.a.createElement("p",null,r.a.createElement("a",{href:(t=e.deezer_id,"https://www.deezer.com/fr/artist/".concat(t))},"Deezer")),e.imdb_id&&r.a.createElement("p",null,r.a.createElement("a",{href:ue(e.imdb_id)},"IMDB"))));var t},de=n(247),fe=function(e){return r.a.createElement(de.a,{style:{backgroundColor:"black",color:"white",paddingTop:"1em",paddingBottom:"1em"},title:e.description&&r.a.createElement("div",{style:{color:"white"}},e.description.title),subTitle:e.description&&r.a.createElement("div",{style:{color:"white"}},"".concat(e.description.days," days")),onBack:function(){return e.history.goBack()},backIcon:r.a.createElement(k.a,{style:{color:"white"},type:"arrow-left"})})},pe=Object(R.b)((function(e,t){return{description:e.database.filter((function(e){return e.id===t.match.params.id}))[0]}}))((function(e){return r.a.createElement("div",{style:{minHeight:"100vh",backgroundColor:"#282c34"}},r.a.createElement(fe,e),e.description?r.a.createElement(me,e.description):r.a.createElement(re.a,null))})),he=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ge(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}console.log("checking for notif"),Notification.requestPermission((function(e){"granted"===e&&(console.log("notif Allowed"),navigator.serviceWorker.ready.then((function(e){console.log("Notif !"),e.showNotification("Vibration Sample",{body:"Buzz! Buzz! 2",icon:"../images/touch/chrome-touch-icon-192x192.png",vibrate:[200,100,200,100,200,100,200],tag:"vibration-sample"})})))}));n(242);var Ee=n(81),ve=n(63),be=[],ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILL_DATABASE":return t.data;default:return e}};function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(n,!0).forEach((function(t){Object(Ee.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var De={categories:["Famous"],birth:new Date("1993-10-12"),notifPref:"never"},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BIRTH_DATE":return Oe({},e,{birth:t.date});case"ADD_CATEGORY":return Oe({},e,{categories:[].concat(Object(s.a)(e.categories),[t.category])});case"REMOVE_CATEGORY":return Oe({},e,{categories:e.categories.filter((function(e){return e===t.ategory}))});case"SET_NOTIF_PREF":return Oe({},e,{notifPref:t.pref});default:return e}};function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var xe=function(){var e=localStorage.getItem("reduxState")?JSON.parse(localStorage.getItem("reduxState")):{user:De,database:be};return e.database&&(e.database=e.database.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(n,!0).forEach((function(t){Object(Ee.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{birthDate:new Date(e.birthDate),deathDate:new Date(e.deathDate)})}))),e.user&&(e.user.birth=new Date(e.user.birth)),e},Se=function(){var e=Object(ve.c)(Object(ve.b)({database:ye,user:je}),xe());return e.subscribe((function(){localStorage.setItem("reduxState",JSON.stringify(e.getState()))})),e}(),_e=r.a.createElement(R.a,{store:Se},r.a.createElement((function(e){return r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(l.a,{path:"/",exact:!0,component:L}),r.a.createElement(l.a,{path:"/statistics",component:ae}),r.a.createElement(l.a,{path:"/settings",component:te}),r.a.createElement(l.a,{path:"/description/:id",component:pe})))}),null));c.a.render(_e,document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");he?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ge(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ge(t,e)}))}}()}},[[153,1,2]]]);
//# sourceMappingURL=main.7abf45fc.chunk.js.map